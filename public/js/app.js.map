{"version":3,"sources":["api.js","ui.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["var API = {\n    post: function (url, data) {\n        return $.ajax({\n            url: url,\n            data: data,\n            type: \"POST\"\n        });\n    },\n    get: function (url, data, async) {\n        return $.ajax({\n            url: url,\n            data: data,\n            async: (typeof async === 'undefined') ? true : async,\n            type: \"GET\"\n        });\n    },\n    delete: function (url, data) {\n        return $.ajax({\n            url: url,\n            data: data,\n            type: \"DELETE\"\n        });\n    }\n};\n\nvar widthOfParent = $('.chart-wrap').width();\n\n$('#select-contractor, #select-contractor-year').change(function () {\n    var val = $('#select-contractor').val();\n    var dataFor = $('#select-contractor').attr('data-for');\n    var param = $('#select-contractor').attr('data');\n    var year = $('#select-contractor-year').val();\n    var data = {filter: val, type: 'contractor', dataFor: dataFor, param: param, year: year};\n    API.get(route, data).success(function (response) {\n        $('#barChart-contractors').empty();\n        createBarChartProcuring(JSON.parse(response), \"barChart-contractors\", \"contracts/contractor\", widthOfParent, val);\n    });\n});\n\n$('#select-agency, #select-agency-year').change(function () {\n    var val = $('#select-agency').val();\n    var dataFor = $('#select-agency').attr('data-for');\n    var param = $('#select-agency').attr('data');\n    var year = $('#select-agency-year').val();\n    var data = {filter: val, type: 'agency', dataFor: dataFor, param: param, year: year};\n    API.get(route, data).success(function (response) {\n        $('#barChart-procuring').empty();\n        createBarChartProcuring(JSON.parse(response), \"barChart-procuring\", \"procuring-agency\", widthOfParent, val);\n    });\n});\n\n$('#select-goods, #select-goods-year').change(function () {\n    var val = $('#select-goods').val();\n    var dataFor = $('#select-goods').attr('data-for');\n    var param = $('#select-goods').attr('data');\n    var year = $('#select-goods-year').val();\n    var data = {filter: val, type: 'goods', dataFor: dataFor, param: param, year: year};\n    API.get(route, data).success(function (response) {\n        $('#barChart-goods').empty();\n        createBarChartProcuring(JSON.parse(response), \"barChart-goods\", \"goods\", widthOfParent, val);\n    });\n});\n\n$('#subscribe').click(function () {\n    subscribe();\n});\n\n$(\"#subscribe-form\").submit(function(e){\n\n        subscribe();\n\n    e.preventDefault();\n   return false;\n});\n\nfunction subscribe(){\n    var email = $('input[name=\"email\"]').val();\n    if(!validateEmail(email)){\n        $(\"#subscribeModal\").css(\"display\", \"block\");\n        $(\"#showMsg\").html('Invalid email address.');\n        return false;\n    }\n    var csrf = $('input[name=\"csrf_token\"]').val();\n    var data = {email: email,csrf_token:csrf};\n    API.post(subscribeRoute, data).success(function (response) {\n        console.log('true');\n        $(\"#subscribeModal\").css(\"display\", \"block\");\n        $(\"#showMsg\").html(response.message);\n    }).error(function (error){\n        $(\"#subscribeModal\").css(\"display\", \"block\");\n        $(\"#showMsg\").html(error.responseJSON.message);\n    });\n}\n\nfunction validateEmail(email) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n","$(document).ready(function(){\n\n    $(\".burger-menu\").click(function () {\n        $(\"#main-menu .menu\").slideToggle(300);\n        $(\".header-banner .main-menu-wrap\").toggleClass(\"add-background\");\n        $(this).toggleClass(\"menu-on\");\n    });\n\n   /* create animation effect for global search*/\n    $('.search-button').click(function(){\n        if($(window).width() > 1270){\n            $(this).parent().toggleClass('open');\n            $(\".fixed-header .menu\").toggleClass('toggle-visibility');\n        }\n        else{\n            $(this).parent().toggleClass('open');\n            $(\".fixed-header .top-bar-left\").toggleClass('toggle-visibility-small');\n            $(\".burger-menu-button\").toggleClass('toggle-visibility-small');\n        }\n        $(\".language-selector\").toggleClass(\"toggle-visibility\");\n\n    });\n\n    $(document).mouseup(function (e)\n    {\n        var container = $(\".search,.advance-search-wrap,.language-selector\");\n\n        if (!container.is(e.target) // if the target of the click isn't the container...\n            && container.has(e.target).length === 0) // ... nor a descendant of the container\n        {\n            container.removeClass('open');\n            $(\".fixed-header .menu\").removeClass('toggle-visibility');\n            $(\".fixed-header .top-bar-left\").removeClass('toggle-visibility-small');\n            $(\".burger-menu-button\").removeClass('toggle-visibility-small');\n            $(\".language-selector\").removeClass(\"toggle-visibility\");\n\n            //$(\".advance-search-wrap\").slideUp();\n            //$(\".filter-toggler a\").removeClass(\"active\");\n            //$(\".multiple-search-wrap\").removeClass(\"position\");\n        }\n    });\n\n\n   /* make background of navigation blue after scrolling image banner*/\n\n    $(window).scroll(function() { // check if scroll event happened\n        var heightOfBanner = $(\".header-banner\").outerHeight() - 68;\n        if ($(document).scrollTop() > heightOfBanner) {\n            $(\"header.top-bar\").css(\"background-color\", \"#0046AE\");\n        } else {\n            if ($(document).scrollTop() > 67) {\n                $(\"header.top-bar\").css(\"background-color\", \"rgba(0,66,177,0.8)\");\n            }else{\n                $(\"header.top-bar\").css(\"background-color\", \"transparent\");\n            }\n        }\n    });\n\n    /* --------- make right and left section in header align properly --------- */\n\n    var headerElementsAlign = function(){\n        if($(window).width() > 640){\n            var statusButtonWidth1 = $(\"#status\").width(),\n                statusButtonWidth = statusButtonWidth1 + 40;\n            headerWidth = $(\"#status\").parents(\".row\").width() - statusButtonWidth;\n            $(\"#left-header\").width(headerWidth);\n        }\n    };\n\n    headerElementsAlign();\n   /* toggle filter section*/\n\n    $(\".show-filter\").click(function(){\n        var element = $(this);\n        $(\".advance-search-wrap\").slideToggle();\n        $(\".filter-toggler a\").toggleClass(\"active\");\n\n        if($(window).width() > 768 ){\n            $(\".multiple-search-wrap\").toggleClass(\"position\");\n        }\n\n    });\n\n  /*  hide advance search when cancel is clicked*/\n\n    $(\".advance-search-wrap .cancel-btn\").click(function(){\n        $(\".advance-search-wrap\").slideUp();\n        $(\".filter-toggler a\").removeClass(\"active\");\n\n        if($(window).width() > 768 ){\n            $(\".multiple-search-wrap\").removeClass(\"position\");\n        }\n    });\n\n\n\n    $('.toggle-switch').click(function(e) {\n        var toggle = this;\n\n        e.preventDefault();\n\n        $(toggle).toggleClass('toggle--on')\n            .toggleClass('toggle--off')\n            .addClass('toggle--moving');\n\n        setTimeout(function() {\n            $(toggle).removeClass('toggle--moving');\n        }, 200);\n\n        $(\".toggle--on\").parents(\".custom-switch-wrap\").find(\".json-view\").show();\n        $(\".toggle--on\").parents(\".custom-switch-wrap\").find(\".table-view\").hide();\n        $(\".toggle--off\").parents(\".custom-switch-wrap\").find(\".json-view\").hide();\n        $(\".toggle--off\").parents(\".custom-switch-wrap\").find(\".table-view\").show();\n    });\n\n   /* ------  toggle expand and collapse button ----- */\n\n    $(\".expand-btn\").on(\"click\",function(){\n        $(\".expand-btn\").hide();\n        $(\".collapse-btn\").show();\n        expand();\n    });\n\n    $(\".collapse-btn\").on(\"click\",function(){\n        $(\".collapse-btn\").hide();\n        $(\".expand-btn\").show();\n        collapse();\n    });\n\n   /* remove tab layout in small device*/\n    var tabResponsive = function () {\n        if($(window).width() < 775){\n            $(\".tabs-content .tabs-panel\").addClass(\"is-active\");\n        }else{\n            $(\"#panel2\").removeClass(\"is-active\");\n            $(\"#panel1-label\").addClass(\"is-active\");\n        }\n    }\n\n    tabResponsive();\n\n   /* --------  responsive navigation menu ------ */\n\n    var menuDisappear = function(){\n        if ($(window).width() > 1270) {\n            $(\".main-content\").removeClass(\"menu-on\");\n            $(\"#main-menu .menu\").slideUp(300);\n            $(\".burger-menu\").removeClass(\"menu-on\");\n            $(\".header-banner .fixed-header\").removeClass(\"add-background\");\n        }\n    }\n\n    $(\".main-content\").click(function () {\n        menuDisappear();\n    });\n\n    menuDisappear();\n    /*js for modal*/\n\n// When the user clicks the button, open the modal\n    $(\"#myBtn\").click(function(){\n        $(\"#myModal\").css(\"display\",\"block\");\n    });\n\n    $(\"#showLoginModal\").click(function(){\n        console.log('here');\n        $(\"#loginModal\").css(\"display\",\"block\");\n    });\n\n\n// When the user clicks on <span> (x), close the modal\n    $(\".close\").click(function(){\n        $(\"#myModal\").css(\"display\",\"none\");\n    });\n\n    $(\".closeLoginModal\").click(function(){\n        $(\"#loginModal\").css(\"display\",\"none\");\n    });\n\n    $(\".alert .close\").click(function(){\n        $(\"#subscribeModal\").css(\"display\",\"none\");\n    });\n\n// When the user clicks anywhere outside of the modal, close it\n$(window).click(function(event) {\n    if (event.target.id === 'subscribeModal') {\n        $(\"#subscribeModal\").css(\"display\",\"none\");\n    }\n});\n\n\n$(function() {\n\n    $(window).on('wheel', function(e) {\n        if($(\".login-bar\").length > 0) {\n            var delta = e.originalEvent.deltaY;\n            var element = $(\".login-bar\"),\n                element_height = element.outerHeight();\n\n            if (delta > 0) {\n                $(\"#main-content\").addClass(\"reduce-padding\");\n                $(\".fixed-header\").addClass(\"add-transform\");\n                element.addClass(\"disapper\");\n            }\n            else {\n                $(\"#main-content\").removeClass(\"reduce-padding\");\n                $(\".fixed-header\").removeClass(\"add-transform\");\n                element.removeClass(\"disapper\");\n            }\n        }\n        else{\n            return;\n        }\n    });\n});\n\n$(function(){\n    $(\".close-button\").on(\"click\", function(){\n      $(this).parent().hide();\n    });\n});\n\nif($(\".login-bar\").length > 0) {\n    $(\"#main-content\").css(\"padding-top\", \"120px\");\n}\n\n$(document).ready(function(){\n    $('.chart-wrap').each(function() {\n        var el = $(this).find('svg');\n        if(el.length != 0) {\n            $(this).removeClass('default-view');\n            $(this).find(\".filter-section\").show();\n            $(this).find(\".loader-text\").hide();\n            $(\".default-view\").parents(\".each-chart-section\").css(\"height\", \"auto\");\n        }\n    });\n});\n\n  /* ------  script for json table  ----- */\n    $(\".jTable .main-title\").each(function(){\n        $(this).parent().addClass(\"main-title-wrap\");\n    })\n\n   /* make table in tab full width*/\n\n    $(\".custom-table\").css(\"width\",\"100%\");\n\n    /* ------------ end of sticky header for table --------------- */\n\n    $(window).resize(function(){\n        headerElementsAlign();\n        tabResponsive();\n        menuDisappear();\n        var tableWidth = $(\"#table_id_wrapper\").width();\n        $(\".persit-header\").width(tableWidth);\n        $(\".custom-table\").width(tableWidth);\n    });\n});\n"],"sourceRoot":"/source/"}