{"version":3,"sources":["contracts.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"contracts.js","sourcesContent":["function expand() {\n    var input = contractData;\n    delete input['_id'];\n\n    $('#json-viewer').JSONView(input);\n    $('#json-viewer').JSONView('expand');\n}\nfunction collapse() {\n    var input = contractData;\n    delete input['_id'];\n\n    $('#json-viewer').JSONView(input);\n    $('#json-viewer').JSONView('collapse');\n}\n\n$('#json-viewer').JSONView(input);\n$('#json-viewer').JSONView('collapse');\n\n$('.collapser').click(function () {\n    console.log('here');\n    $('.num').each(function () {\n        if ($(this).text() == contractId) {\n            console.log($(this).text());\n            $(this).closest('.level2').css('background-color', '#eeeeee');\n        }\n    });\n});\n\nvar showJsonTable = function () {\n    var parent = $(\"#json-table\");\n    var table = $('<table>', {\n        class: \"jTable\"\n    });\n    var count = 1;\n    for (var key in input) {\n        if (typeof input[key] === 'string') {\n            table.append('<tr><td class=\"main-title\" id=\"title' + count + '\" colspan=\"100%\">' + key + '</td><td>' + input[key] + '</td></tr>');\n        } else {\n            table.append('<tr><td class=\"main-title\" id=\"title' + count + '\" colspan=\"100%\">' + key + '</td></tr>');\n            showArray(table, input[key], 1);\n        }\n        count++;\n    }\n    parent.append(table);\n}\n\nvar showArray = function (table, arr, level) {\n    for (var a in arr) {\n        if (typeof arr[a] != 'object') {\n            var tr = '<tr><td class=\"level-' + level + '\">' + a + '</td><td>' + arr[a] + '</td></tr>';\n            table.append(tr);\n        } else {\n            table.append('<tr><td class=\"level-' + level + '\" colspan=\"100%\">' + a + '</td></tr>');\n            level = parseInt(level) + 1;\n            showArray(table, arr[a], level);\n        }\n\n    }\n}\n\nshowJsonTable();\n$(document).ready(function () {\n    updateTables();\n    //var titleOne, titleTwo, titleThree, titleFour;\n    var title =[];\n\n    $('.toggle-switch').click(function (e) {\n        var size = Object.keys(input).length;\n        for(var z = 1; z <= size; z++){\n            title[z] = $('#title' + z).offset().top - 158;\n        }\n\n        //titleOne = $('#title1').offset().top - 158, // 76 + 41 + 41 (fixed header + height of td)\n        //titleTwo = $('#title2').offset().top - 158,\n        //titleThree = $('#title3').offset().top - 158,\n        //titleFour = $('#title4').offset().top - 158;\n    });\n\n    $(window).scroll(function () {\n\n        $(\"#json-table\").each(function () {\n            var el = $(this),\n                offset = el.offset(),\n                scrollTop = $(window).scrollTop();\n\n            //console.log(\"element is\",el);\n            if ((scrollTop > offset.top) && (scrollTop < offset.top + el.height())) {\n                fixHeader();\n            } else {\n                $(\".main-title-wrap\").each(function () {\n                    $(\"td\").removeClass(\"floatingHeader\");\n                });\n            }\n        });\n    });\n\n    var calcHeaderWidth = function (element) {\n        var tableWidth = $(\".jTable\").width() - 21;\n        element.addClass(\"floatingHeader\");\n        element.width(tableWidth);\n        element.css('visibility', 'visible');\n    }\n\n    var fixHeader = function () {\n\n        var scrollTop = $(window).scrollTop();\n\n        for(var x = 1; x<= title.length-1; x++){\n            if (title[x] <= scrollTop && scrollTop < title[x+1]) {\n                calcHeaderWidth($(\"#title\"+x));\n                $(\".main-title\").not('[id$=\"'+ x +'\"]').removeClass(\"floatingHeader\");\n            }\n        }\n\n        //if (titleOne <= scrollTop && scrollTop < titleTwo) {\n        //    calcHeaderWidth($(\"#title1\"));\n        //    $(\".main-title\").not('[id$=\"1\"]').removeClass(\"floatingHeader\");\n        //\n        //} else if (titleTwo <= scrollTop && scrollTop < titleThree) {\n        //    calcHeaderWidth($(\"#title2\"));\n        //    $(\".main-title\").not('[id$=\"2\"]').removeClass(\"floatingHeader\");\n        //\n        //} else if (titleThree <= scrollTop && scrollTop < titleFour) {\n        //    calcHeaderWidth($(\"#title3\"));\n        //    $(\".main-title\").not('[id$=\"3\"]').removeClass(\"floatingHeader\");\n        //\n        //} else if (titleFour <= scrollTop) {\n        //    calcHeaderWidth($(\"#title4\"));\n        //    $(\".main-title\").not('[id$=\"4\"]').removeClass(\"floatingHeader\");\n        //}\n    }\n});\n//Sending Contract Feed back\n\n$(document).ready(function () {\n    $('#submit').on('click', function (e) {\n        e.preventDefault();\n        var _token = $(\"input[name='_token']\").val();\n        var id = $('#contract_id').val();\n        var title = $('#contract_title').val();\n        var name = $('#fullname').val();\n        var trimmedName = $.trim(name);\n        var email = $('#email').val();\n        var message = $('#message').val();\n        var trimmedMessage = $.trim(message);\n        var atPos = email.indexOf(\"@\");\n        var dotPos = email.lastIndexOf(\".\");\n\n        if (trimmedName == \"\") {\n            $(\"#ajaxResponse\").html(validateName);\n            $(\"#ajaxResponse\").css(\"color\", \"#BB0505\");\n            $(\"#fullname\").focus();\n            return false;\n        }\n        if (email == \"\") {\n            $(\"#ajaxResponse\").html(validateEmail);\n            $(\"#ajaxResponse\").css(\"color\", \"#BB0505\");\n            $(\"#email\").focus();\n            return false;\n        }\n        if (atPos < 1 || dotPos < atPos + 2 || dotPos + 2 >= email.length) {\n            $(\"#ajaxResponse\").html(validateEmail);\n            $(\"#ajaxResponse\").css(\"color\", \"#BB0505\");\n            $(\"#email\").css(\"border\", \"1px solid #BB0303\");\n            return false;\n        }\n        if (trimmedMessage == \"\") {\n            $(\"#ajaxResponse\").html(validateMessage);\n            $(\"#ajaxResponse\").css(\"color\", \"#BB0505\");\n            $(\"#message\").focus();\n            return false;\n        }\n        var g_recaptcha_response = $(\"#g-recaptcha-response\").val();//grecaptcha.getResponse();\n        var data = {\n            _token: _token,\n            id: id,\n            title: title,\n            fullname: name,\n            email: email,\n            message: message,\n            'g-recaptcha-response': g_recaptcha_response\n        };\n        $.ajax({\n            type: \"POST\",\n            url: route,\n            data: data,\n            success: function (data) {\n                if (data.status != \"success\") {\n                    $(\"#ajaxResponse\").html(data.msg);\n                    $(\"#ajaxResponse\").css(\"color\", \"#BB0505\");\n                    return false;\n                }\n                else {\n                    $(\"#ajaxResponse\").html(successMessage);\n                    $(\"#ajaxResponse\").css(\"color\", \"#04692A\");\n                    setTimeout(function () {\n                        $(\"#myModal\").hide();\n                        $('#fullname').val(\"\");\n                        $(\"#ajaxResponse\").empty();\n                        $(\"#ajaxResponse\").css(\"color\", \"#04692A\");\n                        $('#email').val('');\n                        $(\"#email\").css(\"border\", \"1px solid #bbb\");\n                        $(\"#email\").css(\"background\", \"#fff\");\n                        $('#message').val('');\n                        grecaptcha.reset();\n                    }, 3000);\n\n                }\n            }\n        });\n    });\n});"]}